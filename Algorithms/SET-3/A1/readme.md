# Вычисление площади пересечения трёх окружностей методом Монте-Карло

## Постановка задачи

Нам даны три окружности:
- С центром в точке (1, 1) и радиусом 1;
- С центром в точке (1.5, 2) и радиусом $√5 / 2$;
- С центром в точке (2, 1.5) и радиусом $√5 / 2$.

### Цель задачи:
1. Вычислить приближённое значение площади фигуры, образованной пересечением указанных кругов, методом Монте-Карло.
2. Оценить, как величина приближённой площади и её отклонение от точного значения зависят от:
    - Числа случайных точек (N);
    - Масштаба прямоугольной области для генерации точек.

### Точное значение площади
$$
S = 0.25 \cdot \pi + 1.25 \cdot \arcsin(0.8) - 1
$$
### Приближённая оценка площади методом Монте-Карло
$$
\tilde{S} = \frac{M}{N} \cdot S_{rec},
$$
где:
- $M$ — число точек, попавших в пересечение окружностей;
- $N$ — общее число случайных точек в рассматриваемой прямоугольной области;
- $ S_{\text{rec}} $ — площадь прямоугольной области.

---

## Методы

1. **Точное вычисление площади пересечения трёх окружностей**:
   Для разбиения пересечения использовались:
    - Прямоугольный треугольник;
    - Три круговых сегмента, определяемых формулой:
      $$
      S_C = \frac{\theta - \sin(\theta)}{2} \cdot r^2,
      $$
      где $\theta$ — центральный угол, а $r$ — радиус окружности.

2. **Приближённое вычисление методом Монте-Карло**:
   Реализован алгоритм генерации случайных точек в заданной прямоугольной области. Проверяется принадлежность точки пересечению окружностей.

3. **Эксперименты**:
    - Число случайных точек $N$ изменялось от 100 до 100,000 с шагом 500.
    - Для каждой оценки записывались:
        - Приближённое значение площади;
        - Величина относительного отклонения:
          $$
          \Delta = \frac{|\tilde{S} - S|}{S} \cdot 100\%.
          $$

---

## Результаты

### 1. График приближённой площади в зависимости от числа точек N

![image](https://github.com/user-attachments/assets/671744e6-c04e-4c7a-8068-3e14a8a68cda)


На графике показано, как приближённое значение площади стабилизируется при увеличении N.

---

### 2. График относительного отклонения в зависимости от числа точек N

![image](https://github.com/user-attachments/assets/2bbb5fea-e052-40c5-ae16-ba45714afc06)


На графике видно, что относительное отклонение уменьшается при росте N, что подтверждает эффективность метода Монте-Карло.

---

## Выводы

1. Приближённое значение площади стремится к точному значению с увеличением числа случайных точек $N$.
2. Метод Монте-Карло позволяет достичь высокой точности (порядка 1%) при $N > 10 000
3. $.
3. Использование меньших прямоугольных областей для генерации точек увеличивает скорость сходимости оценки.

---

## Ссылки и данные

- **ID посылки CodeForces:** *293146847*.
- **Репозиторий:** https://github.com/Mnntn/HSE-SE-2-year/edit/main/Algorithms/SET-3/A1/.

